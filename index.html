<html>
<head>
<script  type="text/javascript">
// <![CDATA[
function copyUp(e) {
	var targ;
	if (!e) var e = window.event;
	if (e.target) targ = e.target;
	else if (e.srcElement) targ = e.srcElement;
	if (targ.nodeType == 3) // defeat Safari bug
		targ = targ.parentNode;
	var math = document.getElementById("math");
	math.value=targ.textContent;
}
// ]]>
</script> 
</head>

<body>
<img src="CNR_logo_100.png" alt="Logo CNR" style="float:right"/>
<h1>Infix notation to PharmML math online converter</h1>
<i>Toni Giorgino at isib.cnr.it</i>


<p> This web service converts a mathematical expression in the usual infix notation into the corresponding <a href="http://pharmml.org/">PharmML</a> math-XML markup.  For details and source code see the <a href="http://sourceforge.net/projects/infix2pharmml/">infix2pharmml</a>  project  page at SourceForge.

<p> Version 0.6

<h2 id="news">What's new</h2>
The following features are now supported:

<ul>
<li>All operators defined by PharmML 0.3 should be supported</li>
<li>Constants (with user-friendly aliases, such as <em>e</em> for <em>exponentiale</em>) - see below.</li>
<li>Variable assignments, such as <em>a=b+c</em> and definitions <em>a:=b+c</em></li>
<li>Derivative variable (ODE) definitions, as <em>diff(q,t)=1+sin(t)</em></li>
<li>Function definitions, such as <em>f(x,y):=x+y</em></li>
<li>Use <em>ln</em> for the natural logarithm. The <em>logx</em> function is always two-argument (argument, base). </li>
<li>Calls to user-defined functions use a special syntax described below.</li>
<li>Factorial can be expressed as "factorial()" or with the usual exclamation mark.</li>
<li>Stand-alone model to jump-start structural models</li>
</ul>


<p>Stand-alone mode creates (mostly) ready-to-run model comprising
only structural equations. In this mode, multiple statements can be
provided, separated by semicolons. Statements are restricted to
variable and derivative variable definitions. Stand-alone model is
intended to jump-start development, and it is not a substitute of
full-fledged modeling tools or human-readable languages.
</p>


<p>For a full list of the converter's features and limitations,
see <a href="https://sourceforge.net/p/infix2pharmml/code/ci/master/tree/README.md">the
project's README</a>.




<h2>Enter the formula below:</h2>
<form name="input" action="/cgi-bin/infix2pharmml/infix2pharmml.cgi" method="get">
<textarea rows="4" cols="50" id="math" name="math">1+sin(t)+b</textarea>
<input type="checkbox" name="standalone" value="true">Build a stand-alone model<br>
<input type="submit" value="Submit">
</form> 



<h2>Examples:</h2>
<p> Click to copy in the input area above.
<div style="text-indent: 2em">
 <table style="width:80%; margin:2em">
  <tr>
   <td><em>Simple mode</em></td>
   <td><em>Stand-alone</em></td>
  </tr>
  <tr>
   <td>  
     <p> <pre onclick="copyUp(event)">1+sqrt(a^2+b^2)</pre> 
     <p> <pre onclick="copyUp(event)">logx(x,e)</pre> 
     <p> <pre onclick="copyUp(event)">A*exp(-alpha*t)+B*exp(-beta*t)</pre> 
     <p> <pre onclick="copyUp(event)">output=1+pi+myfunc(t=sin(x))</pre>
     <p> <pre onclick="copyUp(event)">diff(q,t)=1+sin(t)</pre>
     <p> <pre onclick="copyUp(event)">myFunction(x,y,z):=x^2+y^2</pre>
     <p> <pre onclick="copyUp(event)">myFunction(x=sin(t),y=4!)</pre> 
   </td>
   <td>  
     <p> <pre onclick="copyUp(event)">y:=A*exp(-alpha*t)+B*exp(-beta*t)</pre> 
     <p> <pre onclick="copyUp(event)">diff(a,t)=b; <br>diff(b,t)=-a;</pre> 
     <p> <pre onclick="copyUp(event)">diff(A,t)=-k*A; <br>C:=A/V</pre> 
     <p> <pre onclick="copyUp(event)">A:=dose*exp(-k*t); <br>C:=A/V</pre> 
     <p> <pre onclick="copyUp(event)">diff(A1,t)=-Cl*A1/V1+Q*(A2/V2-A1/V1); <br>diff(A2,t)=-Q*(A2/V2-A1/V1); <br>C1:=A1/V1</pre> 
     <p> <pre onclick="copyUp(event)">diff(E,t)=Rin-Rout*E</pre> 
   </td>
  </tr>
 </table>
</div>


<h2 id="license">License</h2>
<p> <i>   infix2pharmml - Infix notation to PharmML math online converter </i>

<p>
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

<p>
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

<p>
    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

</body></html>
