<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style>
  body {margin: 2em}
  </style>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-3201754-5', 'auto');
    ga('send', 'pageview');
  
  </script>
  <script  type="text/javascript">
  // <![CDATA[
  function copyUp(e,st) {
  	var targ;
  	if (!e) var e = window.event;
  	if (e.target) targ = e.target;
  	else if (e.srcElement) targ = e.srcElement;
  	if (targ.nodeType == 3) // defeat Safari bug
  		targ = targ.parentNode;
  	var math = document.getElementById("math");
  	math.value=targ.textContent;
          document.getElementById("standalone").checked=st;
  }
  // ]]>
  </script> 
</head>
<body>
<img src="CNR_logo_100.png" alt="Logo CNR" style="float:right"/>
<h1 id="infix-notation-to-pharmml-math-online-converter">Infix notation to PharmML math online converter</h1>
<p><script type="text/javascript">
<!--
h='&#x69;&#x73;&#x69;&#98;&#46;&#x63;&#110;&#114;&#46;&#x69;&#116;';a='&#64;';n='&#116;&#x6f;&#110;&#x69;&#46;&#x67;&#x69;&#x6f;&#114;&#x67;&#x69;&#110;&#x6f;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+'<code>'+e+'</code>'+'<\/'+'a'+'>');
// -->
</script><noscript>&#116;&#x6f;&#110;&#x69;&#46;&#x67;&#x69;&#x6f;&#114;&#x67;&#x69;&#110;&#x6f;&#32;&#x61;&#116;&#32;&#x69;&#x73;&#x69;&#98;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#110;&#114;&#32;&#100;&#x6f;&#116;&#32;&#x69;&#116;</noscript></p>
<p>This web service converts a mathematical expression in the usual infix notation into the corresponding <a href="http://pharmml.org/">PharmML</a> markup. For details and source code see the <a href="http://sourceforge.net/projects/infix2pharmml/">infix2pharmml</a> project page at SourceForge.</p>
<p>Version 0.6</p>
<h2 id="whats-new">What's new</h2>
<p>The new <em>stand-alone mode</em> creates (mostly) ready-to-run model (only comprising structural equations). In this mode, multiple statements can be provided, separated by semicolons. Statements are restricted to variable and derivative variable definitions. Stand-alone mode is intended to jump-start development, and it is not a full-fledged modeling tool.</p>
<p>The following features are supported:</p>
<ul>
<li>All operators defined by PharmML 0.5 should be supported</li>
<li>Constants (with user-friendly aliases, such as <code>e</code> for <em>exponentiale</em>).</li>
<li>Variable assignments, as in <code>a=b+c</code> and definitions, as <code>a:=b+c</code></li>
<li>Derivative variable (ODE) definitions, as <code>diff(q,t):=1+sin(t)</code>. Initial condition has to be edited by hand.</li>
<li>Function definitions, such as <code>f(x,y):=x+y</code>.</li>
<li>Use <code>ln</code> for the natural logarithm. The <code>logx</code> function is always two-argument (argument, base).</li>
<li>Calls to user-defined functions use an R-like named-argument syntax shown in the examples below.</li>
<li>Factorial can be expressed as <code>factorial()</code> or with the usual exclamation mark.</li>
<li><em>Model mode:</em> parameter assignments, as e.g. <code>par a=2, b=1+1</code>.</li>
<li><em>Model mode:</em> experimental macro support, as e.g. <code>Oral(2)</code> or <code>IV(adm=1)</code>. Arguments names are unchecked and unprocessed. Macros are <code>Absorption Compartment Depot Effect Elimination IV Oral Peripheral Transfer</code></li>
</ul>
<p>For a full list of the converter's features and limitations, see <a href="https://sourceforge.net/p/infix2pharmml/code/ci/master/tree/README.md">the project's README</a>.</p>
<h2 id="enter-the-formula-below">Enter the formula below</h2>
<form name="input" action="/cgi-bin/infix2pharmml/infix2pharmml.cgi" method="get">
<textarea rows="4" cols="50" id="math" name="math">1+sin(t)+b</textarea> <input type="checkbox" id="standalone" name="standalone" value="true">Build a stand-alone model<br> <input type="submit" value="Submit">
</form> 


<h2 id="examples">Examples</h2>
<p>Click to copy in the input area above.</p>

<table style="width:80%; margin:2em">
  <tr style="background-color: rgb(15, 42, 82); color: white;">
   <td>
<em>Single-statement mode</em>
</td>
   <td>
<em>Stand-alone model mode</em>
</td>
  </tr>
  <tr>
   <td>
     <p> <pre onclick="copyUp(event,false)">1+sqrt(a^2+b^2)</pre> 
     <p> <pre onclick="copyUp(event,false)">logx(x,e)</pre> 
     <p> <pre onclick="copyUp(event,false)">A*exp(-alpha*t)+B*exp(-beta*t)</pre> 
     <p> <pre onclick="copyUp(event,false)">output=1+pi+myfunc(t=sin(x))</pre>
     <p> <pre onclick="copyUp(event,false)">diff(q,t)=1+sin(t)</pre>
     <p> <pre onclick="copyUp(event,false)">myLength(x,y,z):=x^2+y^2+z^2</pre>
     <p> <pre onclick="copyUp(event,false)">sqrt(myLength(x=sin(t),y=4!,z=0))</pre> 
   </td>
   <td>
     <p> <pre onclick="copyUp(event,true)">y:=A*exp(-alpha*t)+B*exp(-beta*t)</pre> 
     <p> <pre onclick="copyUp(event,true)">diff(a,t)=b; <br>diff(b,t)=-a;</pre> 
     <p> <pre onclick="copyUp(event,true)">diff(A,t)=-k*A; <br>C:=A/V</pre> 
     <p> <pre onclick="copyUp(event,true)">A:=dose*exp(-k*t); <br>C:=A/V</pre> 
     <p> <pre onclick="copyUp(event,true)">diff(A1,t)=-Cl*A1/V1+Q*(A2/V2-A1/V1); <br>diff(A2,t)=-Q*(A2/V2-A1/V1); <br>C1:=A1/V1</pre> 
     <p> <pre onclick="copyUp(event,true)">diff(E,t)=Rin-Rout*E</pre> 
     <p> <pre onclick="copyUp(event,true)">diff(G,t)=-(Sg+Si*Z)*G+Sg*Gb+Ra/V;<br>diff(Z,t)=-lambda*Z+lambda*(I-Ib);</pre> 
     <p> <pre onclick="copyUp(event,true)">par v_init=10, a=1; diff(v,t):=a+b;</pre> 
     <p> <pre onclick="copyUp(event,true)">Peripheral(k12, k21, amount=Ap1); E:=Ap1^2</pre> 
   </td>
  </tr>
 </table>


<h2 id="license">License</h2>
<p><em>infix2pharmml - Infix notation to PharmML math online converter</em></p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.</p>
<p>You should have received a copy of the GNU Affero General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
</body>
</html>
